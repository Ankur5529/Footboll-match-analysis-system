# ‚öΩ Football Match Analysis System (AI Powered)

A complete, end-to-end artificial intelligence video tracking system and sleek Web Dashboard designed to analyze live football (soccer) match footage. It accurately tracks players, teams, the football, and referees, while calculating highly advanced tactical metrics and physical performance data frame-by-frame. 

---

## ‚ú® Features

- **High-Performance Object Detection (YOLO)**: Tracks players, referees, and the ball perfectly across complex sports footage.
- **Dynamic Soccer Pitch Top-Down View Transformation**: Maps 2D camera geometry to true physical pitch dimensions in meters using mathematical perspective transformations.
- **Auto-Clustering Team Assignments**: Automatically rips bounding box data, runs `KMeans Pixel Segmentation`, and groups players together dynamically by their respective jersey colors. 
- **Physical Output Analytics**: 
   - ‚ö° **Max Sprint Speed (km/h)**: Extracts and gauges the absolute top velocity attained by each team during the highlight.
   - üìè **Total Distance Covered (m)**: Calculates cumulative distance metric for total ground covered by field players.
- **Cumulative Tactical Camera Tracking**: Calculates absolute object shifts using Optical Flow (`calcOpticalFlowPyrLK`), rendering actual geometry independent of camera panning or zoom tracking.
- **Real-Time Total Ball Possession Engine**: Accurately registers sequential team touches and drops a beautiful interactive CSS dashboard summarizing what percentage of the match each team controlled.

## üì∏ Dashboard & Analysis Views

Here are the visual representations generated by the Flask web application!

![Upload & Progression](images/Screenshot%202026-02-23%20012701.png)

![Analysis Graph Engine](images/Screenshot%202026-02-23%20012826.png)

![Physical & Speed Dashboard](images/Screenshot%202026-02-23%20015802.png)

![Live Pitch Overlays 1](images/Screenshot%202026-02-23%20020954.png)

![Live Pitch Overlays 2](images/Screenshot%202026-02-23%20021004.png)

---

## üöÄ How to Run the Project

### 1. Requirements & Setup
Ensure you are running **Python 3.x**. Inside your terminal run:
```bash
pip install -r requirements.txt
```
*(Dependencies primarily include `flask`, `ultralytics`, `supervision`, `opencv-python`, `scikit-learn`, `numpy`, and `pandas`.)*

### 2. Launch the Web Interface
Start the backend rendering server:
```bash
python app.py
```
Open a browser and navigate to `http://localhost:5000/`. Simply drag and drop any `.mp4` football clip into the uploader and wait for the dashboard to generate your possession and physics graphics!

### 3. Run Directly From Terminal (Headless Mode)
You can directly bypass the Web UI and analyze videos locally through the raw Python console utilizing your systems heavy cores. It saves out to a pre-defined path natively. 

```bash
python main.py -i "C:/path/to/my_match_clip.mp4" -o "C:/output/final_analytics_render.mp4"
```

---

## üèóÔ∏è Architecture & Modules Used

* `app.py`: Backend Flask orchestrator & background-threading handler.
* `processor.py`: The core heartbeat handling AI processing sequentially. 
* `trackers/tracker.py`: Houses YOLO logic and bounding-box drawing algorithms. 
* `team_assigner/`: Handles scikit-learn pixel clustering configurations. 
* `camera_movement_estimator/`: Calculates Optical Flow between moving objects.
* `speed_and_distance_estimator/`: Formats absolute velocity using relative perspective geometry. 


Developed entirely autonomously using the Ultralytics framework and powerful Computer Vision principles.